#!/bin/bash

readonly TODO_DIR="$HOME/.todo"
readonly TODOFILE="$TODO_DIR/$(date '+%Y-%m-%d').md"

create_file(){
	local date=$1; shift

	echo "# $date" > "$TODOFILE"
}


add_entry(){
	local entry="$1"; shift
	
	echo "* $entry" >> "$TODOFILE"
}


main(){
	local entry="$@"
	
	if [ ! -f "$TODOFILE" ]; then
		create_file "$(date '+%A %d %B')"
	fi	

	if [ "$entry" = '' ];
	then
		mdp $TODOFILE
	else
		add_entry "$entry"
	fi
}

main "$@"
